# =============================================================================
# Docker Deployment Requirements for Linux Server (CPU-only)
# Version: 2.0.0 - Production Build
# =============================================================================
# This file is used by the Dockerfile for production builds
# PyTorch (torch==2.4.0, torchvision==0.19.0) is installed separately in Dockerfile
# For local development, use the root requirements.txt
# =============================================================================

# FastAPI service requirements
fastapi>=0.104.0
uvicorn[standard]>=0.24.0
python-multipart>=0.0.6
pydantic>=2.0.0
orjson>=3.9.0  # Fast JSON serialization (optional but recommended for FastAPI)

# =============================================================================
# Core ML dependencies
# =============================================================================
ultralytics>=8.0.0
supervision>=0.18.0
# torch==2.4.0 - Installed separately in Dockerfile from CPU-only index
# torchvision==0.19.0 - Installed separately in Dockerfile from CPU-only index

# =============================================================================
# Image/Video processing
# =============================================================================
# CRITICAL: Pin opencv-python-headless explicitly to prevent transitive opencv-python installation
# ultralytics/supervision may pull in opencv-python, which requires libGL.so.1
# Must be installed BEFORE ultralytics/supervision to prevent wrong wheel selection
# Note: opencv-python-headless is installed explicitly in Dockerfile BEFORE other packages
# to prevent pip from selecting opencv-python as a dependency
opencv-python-headless==4.10.0.84
Pillow>=10.0.0
numpy<2.0,>=1.24.0
pandas>=2.0.0

# =============================================================================
# OCR dependencies
# =============================================================================
# PaddlePaddle framework (CPU version for Docker deployment)
paddlepaddle>=2.5.0
paddleocr>=2.7.0

# =============================================================================
# Text matching and fuzzy search
# =============================================================================
rapidfuzz>=3.0.0

# =============================================================================
# Data handling
# =============================================================================
lapx>=0.5.0

# =============================================================================
# Database for large catalog datasets (200,000+ SKUs)
# =============================================================================
# DuckDB: Fast analytical database for large datasets
duckdb>=0.9.0

# =============================================================================
# Production deployment
# =============================================================================
# Note: gunicorn removed - using uvicorn directly to reduce memory footprint
# uvicorn is already included in uvicorn[standard] above
